{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/home/julien-pc/Bureau/PROJECT/e-commerce/front/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  margin-right: \", \"px;\\n\"]);\n\n  _templateObject6 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  margin-left: auto;\\n  display: flex;\\n  align-items: center;\\n\\n  svg + svg {\\n    margin-left: \", \"px;\\n  }\\n\"]);\n\n  _templateObject5 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  font: inherit;\\n  color: inherit;\\n\\n  td {\\n    padding: \", \";\\n  }\\n\\n  td:nth-child(odd) {\\n    font-weight: \", \";\\n  }\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  overflow: auto;\\n  max-height: 80vh;\\n  -webkit-overflow-scrolling: touch;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  padding: 0 \", \"px;\\n  display: flex;\\n  align-items: center;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  font-weight: \", \";\\n  cursor: pointer;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  bottom: \", \"px;\\n  right: \", \"px;\\n  width: fit-content;\\n  display: grid;\\n  grid-template-rows: 40px auto;\\n  background: rgba(0, 0, 0, 0.7);\\n  -webkit-backdrop-filter: blur(10px);\\n  backdrop-filter: blur(10px);\\n  color: white;\\n  z-index: \", \";\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst React = __importStar(require(\"react\"));\n\nconst react_copy_to_clipboard_1 = __importDefault(require(\"react-copy-to-clipboard\"));\n\nconst Icon_1 = __importDefault(require(\"../Icon/Icon\"));\n\nconst Tooltip_1 = __importDefault(require(\"../Tooltip/Tooltip\"));\n\nconst isClient_1 = require(\"../utils/isClient\");\n\nconst styled_1 = __importDefault(require(\"../utils/styled\"));\n\nconst makeRowsFromConfig_1 = require(\"./makeRowsFromConfig\");\n\nconst Container = styled_1.default(\"div\")(_templateObject(), ({\n  theme\n}) => theme.space.element, ({\n  theme\n}) => theme.space.element, ({\n  theme\n}) => theme.zIndex.debugViewer);\nconst Header = styled_1.default(\"div\")(_templateObject2(), ({\n  theme\n}) => theme.space.content, ({\n  theme\n}) => theme.font.weight.bold);\nconst ConfigTableContainer = styled_1.default(\"div\")(_templateObject3());\nconst ConfigTable = styled_1.default(\"table\")(_templateObject4(), ({\n  theme\n}) => \"\".concat(theme.space.small, \"px \").concat(theme.space.content, \"px\"), ({\n  theme\n}) => theme.font.weight.medium);\nconst Icons = styled_1.default(\"div\")(_templateObject5(), ({\n  theme\n}) => theme.space.small);\nconst Title = styled_1.default(\"span\")(_templateObject6(), ({\n  theme\n}) => theme.space.element);\n\nclass Debug extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isExpanded: this.props.expanded,\n      copied: false\n    };\n\n    this.dragStart = event => {\n      event.persist();\n      const style = window.getComputedStyle(event.currentTarget, null);\n      this.setState(() => ({\n        contextLeft: parseInt(style.getPropertyValue(\"left\"), 10) - event.clientX,\n        contextTop: parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY\n      }));\n    };\n\n    this.drop = event => {\n      event.persist();\n      event.preventDefault();\n      const _this$state = this.state,\n            contextTop = _this$state.contextTop,\n            contextLeft = _this$state.contextLeft;\n\n      if (typeof contextLeft === \"undefined\") {\n        return;\n      }\n\n      if (typeof contextTop === \"undefined\") {\n        return;\n      }\n\n      this.setState(() => ({\n        left: event.clientX + contextLeft,\n        top: event.clientY + contextTop\n      }));\n    };\n\n    this.dragOver = event => event.preventDefault();\n\n    this.toggle = () => this.setState(({\n      isExpanded\n    }) => ({\n      isExpanded: !isExpanded\n    }));\n\n    this.showCopyFeedback = () => {\n      this.setState(() => ({\n        copied: true\n      }));\n      setTimeout(() => this.setState(() => ({\n        copied: false\n      })), 1000);\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          debugTitle = _this$props.title,\n          values = _this$props.values;\n    const _this$state2 = this.state,\n          isExpanded = _this$state2.isExpanded,\n          top = _this$state2.top,\n          left = _this$state2.left,\n          copied = _this$state2.copied;\n    return React.createElement(Container\n    /**\n     * We initially style the component to be relative to the bottom and the right.\n     * Once we have a top and left position, reset the bottom and the right.\n     */\n    , {\n      /**\n       * We initially style the component to be relative to the bottom and the right.\n       * Once we have a top and left position, reset the bottom and the right.\n       */\n      style: top && left ? {\n        top,\n        left,\n        bottom: \"initial\",\n        right: \"initial\"\n      } : {},\n      draggable: true,\n      onDragStart: this.dragStart,\n      onDragOver: this.dragOver,\n      onDragEnd: this.drop,\n      className: this.props.className\n    }, React.createElement(Header, {\n      onClick: () => this.toggle()\n    }, React.createElement(Title, null, debugTitle), React.createElement(Icons, null, React.createElement(react_copy_to_clipboard_1.default, {\n      text: JSON.stringify({\n        currentUrl: isClient_1.isClient() ? window.location.href : \"\",\n        debug: values\n      }, null, 2),\n      onCopy: this.showCopyFeedback\n    }, React.createElement(Icon_1.default, {\n      onClick: e => e.stopPropagation(),\n      name: \"Copy\"\n    })), React.createElement(Icon_1.default, {\n      name: isExpanded ? \"ChevronUp\" : \"ChevronDown\"\n    }), copied && React.createElement(Tooltip_1.default, {\n      top: true\n    }, \"Copied\"))), isExpanded && React.createElement(ConfigTableContainer, null, React.createElement(ConfigTable, null, React.createElement(\"tbody\", null, makeRowsFromConfig_1.makeRowsFromConfig(values)))));\n  }\n\n}\n\nDebug.defaultProps = {\n  expanded: false\n};\nexports.default = Debug;","map":null,"metadata":{},"sourceType":"script"}