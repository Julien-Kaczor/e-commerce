{"ast":null,"code":"var _jsxFileName = \"/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n      response: undefined\n    };\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n    let uri = \"http://localhost:8000/api/login\";\n    axios.post(uri, user).then(response => {\n      localStorage.setItem('token', JSON.stringify(response.data));\n      this.props.history.push(\"/\");\n    }).catch(error => {\n      this.setState({\n        response: false\n      });\n    });\n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-dark bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), \" E-COMMERCE\")), React.createElement(\"div\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), \" Accueil\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), \" Connexion\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), \" Inscription\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card form login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.response === false ? React.createElement(\"div\", {\n      className: \"mt-3 alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), \" Erreur\"), \" : Les identifiant que vous avez saisies n'existent pas !\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      id: \"formpost\",\n      method: \"POST\",\n      action: \"http://localhost:8001/api/login\",\n      acceptCharset: \"UTF-8\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), \" Se connecter\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Nom d'utilisateur :\"), React.createElement(\"input\", {\n      name: \"username\",\n      className: \"input-login\",\n      type: \"text\",\n      onChange: this.handleChange1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Mot de passe :\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleChange2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), \" Se connecter\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Login.js"],"names":["React","axios","Login","Component","constructor","props","state","name","password","response","undefined","handleChange1","bind","handleChange2","handleSubmit","e","setState","target","value","preventDefault","user","uri","post","then","localStorage","setItem","JSON","stringify","data","history","push","catch","error","render","parse","getItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {name: '', password: '', response: undefined};\n\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n    handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n\n    let uri = \"http://localhost:8000/api/login\";\n\n    axios.post(uri, user).then((response) => {\n      localStorage.setItem('token', JSON.stringify(response.data));\n      this.props.history.push(\"/\");\n    })\n    .catch(error => {\n      this.setState({response: false})\n  });\n  \n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n    return (\n      <div>\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href=\"/\">\n            <b>\n              <i className=\"fa fa-shopping-cart\" /> E-COMMERCE\n            </b>\n          </a>\n          <div className=\"navbar-brand\" href=\"/\">\n            <a className=\"nav-item\" href=\"/\">\n              <i className=\"fa fa-home\" /> Accueil\n            </a>\n            <a className=\"nav-item\" href=\"/login\">\n              <i className=\"fa fa-sign-in\" /> Connexion\n            </a>\n            <a className=\"nav-item\" href=\"/register\">\n              <i className=\"fa fa-user-plus\" /> Inscription\n            </a>\n          </div>\n        </nav>\n        <div>\n          <div className=\"card form login\">\n          {this.state.response === false ? <div className=\"mt-3 alert alert-danger\">\n          <strong><i class=\"fa fa-times\"></i> Erreur</strong> : Les identifiant que vous avez saisies n'existent pas !\n                </div> : <div></div>\n                }\n            <form\n              id=\"formpost\"\n              method=\"POST\"\n              action=\"http://localhost:8001/api/login\"\n              acceptCharset=\"UTF-8\"\n              onSubmit={this.handleSubmit}\n            >\n              <h1 className=\"mt-3\">\n                <i className=\"fa fa-sign-in\" /> Se connecter\n              </h1>\n              <hr />\n              <label>\n                <h5 className=\"font-login\">Nom d'utilisateur :</h5>\n                <input\n                  name=\"username\"\n                  className=\"input-login\"\n                  type=\"text\"\n                  onChange={this.handleChange1}\n                />\n                <h5 className=\"font-login\">Mot de passe :</h5>\n                <input name=\"password\" type=\"password\" onChange={this.handleChange2} />\n              </label>\n              <div>\n                <button type=\"submit\" className=\"btn btn-outline-secondary\">\n                  <i className=\"fa fa-sign-in\" /> Se connecter\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}