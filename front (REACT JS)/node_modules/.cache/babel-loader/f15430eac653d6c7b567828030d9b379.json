{"ast":null,"code":"var _jsxFileName = \"/home/julien-pc/Bureau/test/e-commerce/front/src/Login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport SweetAlert from \"sweetalert2-react\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      password: \"\",\n      response: undefined\n    };\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onCancel() {\n    console.log(\"here\");\n    this.setState({\n      show: false\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n    let uri = \"http://localhost:8000/api/login\";\n    axios.post(uri, user).then(response => {\n      localStorage.setItem(\"token\", JSON.stringify(response.data));\n      this.props.history.push(\"/\");\n    }).catch(error => {\n      this.setState({\n        response: false\n      });\n      this.setState({\n        show: true\n      });\n    });\n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-dark bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), \" E-COMMERCE\")), React.createElement(\"div\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), \" Accueil\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), \" Connexion\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), \" Inscription\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card form login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"formpost\",\n      method: \"POST\",\n      action: \"http://localhost:8001/api/login\",\n      acceptCharset: \"UTF-8\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), \" Se connecter\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Nom d'utilisateur :\"), React.createElement(\"input\", {\n      name: \"username\",\n      className: \"input-login\",\n      type: \"text\",\n      onChange: this.handleChange1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Mot de passe :\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleChange2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \" Se connecter\"))), React.createElement(SweetAlert, {\n      type: \"error\",\n      showCancelButton: true,\n      show: this.state.show,\n      title: \"Erreur\",\n      text: \"Les identifiant que vous avez saisies n'existent pas !\",\n      onConfirm: () => this.setState({\n        show: false\n      }),\n      onConfirm: () => this.setState({\n        show: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/julien-pc/Bureau/test/e-commerce/front/src/Login.js"],"names":["React","axios","SweetAlert","Login","Component","constructor","props","state","name","password","response","undefined","handleChange1","bind","handleChange2","handleSubmit","e","setState","target","value","onCancel","console","log","show","preventDefault","user","uri","post","then","localStorage","setItem","JSON","stringify","data","history","push","catch","error","render","parse","getItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport SweetAlert from \"sweetalert2-react\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { name: \"\", password: \"\", response: undefined };\n\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onCancel() {\n    console.log(\"here\")\n    this.setState({\n      show: false\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n\n    let uri = \"http://localhost:8000/api/login\";\n\n    axios\n      .post(uri, user)\n      .then(response => {\n        localStorage.setItem(\"token\", JSON.stringify(response.data));\n        this.props.history.push(\"/\");\n      })\n      .catch(error => {\n        this.setState({ response: false });\n        this.setState({ show: true })\n      });\n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n    return (\n      <div>\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href=\"/\">\n            <b>\n              <i className=\"fa fa-shopping-cart\" /> E-COMMERCE\n            </b>\n          </a>\n          <div className=\"navbar-brand\" href=\"/\">\n            <a className=\"nav-item\" href=\"/\">\n              <i className=\"fa fa-home\" /> Accueil\n            </a>\n            <a className=\"nav-item\" href=\"/login\">\n              <i className=\"fa fa-sign-in\" /> Connexion\n            </a>\n            <a className=\"nav-item\" href=\"/register\">\n              <i className=\"fa fa-user-plus\" /> Inscription\n            </a>\n          </div>\n        </nav>\n        <div>\n          <div className=\"card form login\">\n            <form\n              id=\"formpost\"\n              method=\"POST\"\n              action=\"http://localhost:8001/api/login\"\n                acceptCharset=\"UTF-8\"\n                onSubmit={this.handleSubmit}\n              >\n                <h1 className=\"mt-3\">\n                  <i className=\"fa fa-sign-in\" /> Se connecter\n                </h1>\n                <hr />\n                <label>\n                <h5 className=\"font-login\">Nom d'utilisateur :</h5>\n                <input\n                  name=\"username\"\n                  className=\"input-login\"\n                  type=\"text\"\n                  onChange={this.handleChange1}\n                />\n                <h5 className=\"font-login\">Mot de passe :</h5>\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  onChange={this.handleChange2}\n                />\n              </label>\n              <div>\n                <button type=\"submit\" className=\"btn btn-outline-secondary\">\n                  <i className=\"fa fa-sign-in\" /> Se connecter\n                </button>\n              </div>\n            </form>\n            <SweetAlert\n              type='error'\n              showCancelButton={true}\n              show={this.state.show}\n              title=\"Erreur\"\n              text=\"Les identifiant que vous avez saisies n'existent pas !\"\n              onConfirm={() => this.setState({ show: false })}\n                          onConfirm={() => this.setState({ show: false })}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}