{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/home/julien-pc/Bureau/PROJECT/e-commerce/front/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 100%;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst debounce_1 = __importDefault(require(\"lodash/debounce\"));\n\nconst React = __importStar(require(\"react\"));\n\nconst ContextMenu_1 = __importDefault(require(\"../ContextMenu/ContextMenu\"));\n\nconst styled_1 = __importDefault(require(\"../utils/styled\"));\n\nconst backgroundColor = \"hsla(0, 0%, 100%, 0.1)\";\nconst boxShadow = \"0 3px 6px rgba(0, 0%, 0%, 0.3)\";\nconst HeaderContextMenu = styled_1.default(ContextMenu_1.default)(_templateObject());\nconst Container = styled_1.default(\"div\")(({\n  theme,\n  align,\n  isOpen,\n  withCaret\n}) => Object.assign({\n  width: 250,\n  lineHeight: 1,\n  padding: \"\".concat(theme.space.content / 2, \"px \").concat(theme.space.content, \"px\"),\n  height: \"100%\",\n  [align === \"left\" ? \"paddingRight\" : \"paddingLeft\"]: theme.space.element * 2,\n  color: isOpen ? theme.color.white : \"#ffffffcc\",\n  backgroundColor: isOpen ? backgroundColor : \"transparent\",\n  boxShadow: isOpen ? boxShadow : \"none\",\n  fontWeight: theme.font.weight.medium,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: align === \"left\" ? \"flex-start\" : \"flex-end\",\n  \"& > div\": {\n    marginLeft: theme.space.small\n  },\n  \"&:hover\": {\n    boxShadow,\n    backgroundColor,\n    color: theme.color.white\n  }\n}, withCaret ? {\n  \"&::after\": {\n    content: \"''\",\n    position: \"absolute\",\n    top: \"50%\",\n    [align === \"left\" ? \"right\" : \"left\"]: theme.space.content,\n    width: 0,\n    height: 0,\n    border: \"4px solid transparent\",\n    borderTopColor: \"#ffffff80\",\n    transform: \"translateY(calc(-50% + 2px))\"\n  },\n  \"&:hover\": {\n    boxShadow,\n    backgroundColor,\n    color: theme.color.white,\n    \"&::after\": {\n      borderTopColor: theme.color.white\n    }\n  }\n} : {}));\n\nclass HeaderMenu extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      renderedMenuWidth: 0\n    };\n    this.menuRef = React.createRef();\n    /**\n     * Explicit typing is required here in order to give the typescript compiler access to typings\n     * used to work out type definitions for the debounce method.\n     * @todo look into making this unnecessary.\n     */\n\n    this.handleResize = debounce_1.default(() => {\n      this.updateRenderedWidth();\n    }, 200);\n  }\n\n  componentDidMount() {\n    this.updateRenderedWidth();\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  componentDidUpdate() {\n    this.updateRenderedWidth();\n  }\n\n  updateRenderedWidth() {\n    if (!this.menuRef || this.menuRef.current === null) {\n      return;\n    }\n\n    const node = this.menuRef.current;\n    const renderedMenuWidth = node.clientWidth;\n\n    if (renderedMenuWidth !== this.state.renderedMenuWidth) {\n      this.setState(() => ({\n        renderedMenuWidth\n      }));\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return React.createElement(HeaderContextMenu, Object.assign({\n      width: this.state.renderedMenuWidth\n    }, props), isOpen => React.createElement(Container, {\n      ref: this.menuRef,\n      isOpen: isOpen,\n      align: props.align,\n      withCaret: Boolean(props.withCaret)\n    }, props.children));\n  }\n\n}\n\nHeaderMenu.defaultProps = {\n  align: \"left\",\n  withCaret: false\n};\nexports.default = HeaderMenu;","map":null,"metadata":{},"sourceType":"script"}