{"ast":null,"code":"var _jsxFileName = \"/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Profil.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport sha256 from \"sha256\";\n\nclass Profil extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://127.0.0.1:8000/api/products\", {\n      mode: \"no-cors\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      const data = res.data;\n      this.setState({\n        products: data.produits\n      });\n      this.setState({\n        count: data.count\n      });\n      this.setState({\n        countAvailability: data.countAvailability\n      });\n      this.setState({\n        countAvailabilityT: data.countAvailabilityT\n      });\n      this.setState({\n        countUser: data.countUser\n      });\n    });\n\n    if (JSON.parse(localStorage.getItem(\"token\")) == null) {\n      axios.get(\"http://127.0.0.1:8000/api/profil\", {\n        mode: \"no-cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        this.setState({\n          admin: res.data\n        });\n      });\n    } else {\n      axios.get(\"http://127.0.0.1:8000/api/profil\", {\n        mode: \"no-cors\",\n        headers: {\n          Authorization: \"Bearer \" + sha256(JSON.parse(localStorage.getItem(\"token\"))),\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        const data = res.data[0];\n        this.setState({\n          user: data\n        });\n      });\n    }\n\n    axios.get(\"http://127.0.0.1:8000/api/categories\", {\n      mode: \"no-cors\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      const data = res.data;\n      this.setState({\n        user: data\n      });\n    });\n  }\n\n  handleLogout() {\n    localStorage.removeItem(\"token\");\n  }\n\n  render() {\n    let button;\n    let buttonR;\n    let buttonP;\n    const user = this.state.user;\n\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      buttonP = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/profil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), \" Mon profil\");\n      button = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/\",\n        onClick: () => this.handleLogout(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sign-out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), \" D\\xE9connexion\");\n    } else {\n      button = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sign-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), \" Connexion\");\n      buttonR = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), \" Inscription\");\n    }\n\n    if (JSON.parse(localStorage.getItem(\"token\")) == null) {\n      this.props.history.push(\"/login\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-dark bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), \" E-COMMERCE\")), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"navbar-form\",\n      role: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Chercher un produit, une cat\\xE9gorie, ...\",\n      name: \"q\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-default icon-search\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-search \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), \" Accueil\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-cart-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), \" Mon panier\"), buttonP, button, buttonR)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"test32\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Modifier profil\"), React.createElement(\"hr\", {\n      className: \"test34\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"//placehold.it/100\",\n      className: \"avatar img-circle\",\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-horizontal\",\n      role: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"First name:\"), React.createElement(\"div\", {\n      className: \"col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Email:\"), React.createElement(\"div\", {\n      className: \"col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Created at:\"), React.createElement(\"div\", {\n      className: \"col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: user.created_at,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })))))))), React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card-header border-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"//placehold.it/200\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"card-block px-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      class: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"p\", {\n      class: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"a\", {\n      href: \"#\",\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"BUTTON\")), React.createElement(\"div\", {\n      class: \"w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"card-footer w-100 text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Footer stating cats are CUTE little animals\")));\n  }\n\n}\n\nexport default Profil;","map":{"version":3,"sources":["/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Profil.js"],"names":["React","axios","sha256","Profil","Component","constructor","props","state","user","componentDidMount","get","mode","headers","then","res","data","setState","products","produits","count","countAvailability","countAvailabilityT","countUser","JSON","parse","localStorage","getItem","admin","Authorization","handleLogout","removeItem","render","button","buttonR","buttonP","history","push","name","email","created_at"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport sha256 from \"sha256\";\n\nclass Profil extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: [],\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`http://127.0.0.1:8000/api/products`, {\n        mode: \"no-cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      })\n\n      .then(res => {\n        const data = res.data;\n        this.setState({ products: data.produits });\n        this.setState({ count: data.count });\n        this.setState({ countAvailability: data.countAvailability });\n        this.setState({ countAvailabilityT: data.countAvailabilityT });\n        this.setState({ countUser: data.countUser });\n      });\n\n    if (JSON.parse(localStorage.getItem(\"token\")) == null) {\n      axios\n        .get(`http://127.0.0.1:8000/api/profil`, {\n          mode: \"no-cors\",\n          headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"application/json\"\n          }\n        })\n\n        .then(res => {\n          this.setState({ admin: res.data });\n        });\n    } else {\n      axios\n        .get(`http://127.0.0.1:8000/api/profil`, {\n          mode: \"no-cors\",\n          headers: {\n            Authorization:\n              \"Bearer \" + sha256(JSON.parse(localStorage.getItem(\"token\"))),\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"application/json\"\n          }\n        })\n\n        .then(res => {\n            const data = res.data[0];\n            this.setState({ user: data });\n        });\n    }\n\n    axios\n      .get(`http://127.0.0.1:8000/api/categories`, {\n        mode: \"no-cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      })\n\n      .then(res => {\n        const data = res.data;\n        this.setState({ user: data });\n      });\n  }\n\n  handleLogout() {\n    localStorage.removeItem(\"token\");\n  }\n\n  render() {\n    let button;\n    let buttonR;\n    let buttonP;\n\n    const { user } = this.state;\n\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      buttonP = (\n        <a className=\"nav-item\" href=\"/profil\">\n          <i className=\"fa fa-user\" /> Mon profil\n        </a>\n      );\n\n      button = (\n        <a className=\"nav-item\" href=\"/\" onClick={() => this.handleLogout()}>\n          <i className=\"fa fa-sign-out\" /> Déconnexion\n        </a>\n      );\n    } else {\n      button = (\n        <a className=\"nav-item\" href=\"/login\">\n          <i className=\"fa fa-sign-in\" /> Connexion\n        </a>\n      );\n      buttonR = (\n        <a className=\"nav-item\" href=\"/register\">\n          <i className=\"fa fa-user-plus\" /> Inscription\n        </a>\n      );\n    }\n\n    if (JSON.parse(localStorage.getItem(\"token\")) == null) {\n      this.props.history.push(\"/login\");\n    }\n\n    return (\n      <div>\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href=\"/\">\n            <b>\n              <i className=\"fa fa-shopping-cart\" /> E-COMMERCE\n            </b>\n          </a>\n\n          <div className=\"col\">\n            <form className=\"navbar-form\" role=\"search\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Chercher un produit, une catégorie, ...\"\n                  name=\"q\"\n                />\n                <div className=\"input-group-btn\">\n                  <button className=\"btn btn-default icon-search\" type=\"submit\">\n                    <i className=\"fa fa-search \" />\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n\n          <div className=\"navbar-brand\" href=\"/\">\n            <a className=\"nav-item\" href=\"/\">\n              <i className=\"fa fa-home\" /> Accueil\n            </a>\n            <a className=\"nav-item\" href=\"/cart\">\n              <i className=\"fa fa-cart-plus\" /> Mon panier\n            </a>\n            {buttonP}\n            {button}\n            {buttonR}\n          </div>\n        </nav>\n\n        <div>\n          <div className=\"container\">\n            <h1 className=\"test32\">Modifier profil</h1>\n            <hr className=\"test34\" />\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <div className=\"text-center\">\n                  <img\n                    src=\"//placehold.it/100\"\n                    className=\"avatar img-circle\"\n                    alt=\"avatar\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"col-md-9\">\n                <div className=\"form-horizontal\" role=\"form\">\n                  <div className=\"form-group\">\n                    <label className=\"col-lg-3 control-label\">First name:</label>\n                    <div className=\"col-lg-8\">\n                      <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        value={user.name}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"col-lg-3 control-label\">Email:</label>\n                    <div className=\"col-lg-8\">\n                      <input className=\"form-control\" type=\"text\" value={user.email} />\n                    </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <label className=\"col-lg-3 control-label\">Created at:</label>\n                    <div className=\"col-lg-8\">\n                      <input className=\"form-control\" type=\"text\" value={user.created_at} />\n                    </div>\n                  </div>\n                \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card\">\n        <div class=\"card-header border-0\">\n            <img src=\"//placehold.it/200\" alt=\"\"/>\n        </div>\n        <div class=\"card-block px-2\">\n            <h4 class=\"card-title\">Title</h4>\n            <p class=\"card-text\">Description</p>\n            <a href=\"#\" class=\"btn btn-primary\">BUTTON</a>\n        </div>\n        <div class=\"w-100\"></div>\n        <div class=\"card-footer w-100 text-muted\">\n            Footer stating cats are CUTE little animals\n        </div>\n    </div>\n      </div>\n    );\n  }\n}\nexport default Profil;\n"]},"metadata":{},"sourceType":"module"}