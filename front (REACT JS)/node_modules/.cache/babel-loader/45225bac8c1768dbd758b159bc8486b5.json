{"ast":null,"code":"var _jsxFileName = \"/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Product.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from \"react-responsive-carousel\";\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: undefined\n    };\n  }\n\n  handleLogout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"Products\");\n  }\n\n  setProductCart(e) {\n    e.preventDefault();\n    const id = e.target.value;\n    axios.get(\"http://127.0.0.1:8000/api/product/\" + id, {\n      mode: \"no-cors\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      const data = res.data;\n      var showProducts = [];\n      var show = {\n        id: data.id,\n        title: data.title,\n        description: data.description,\n        price: data.price,\n        picture: data.pictures\n      };\n      showProducts.push(show);\n      showProducts = showProducts.concat(JSON.parse(localStorage.getItem(\"Products\") || \"[]\"));\n      console.log(showProducts);\n      localStorage.setItem(\"Products\", JSON.stringify(showProducts));\n    });\n  }\n\n  componentDidMount() {\n    const uri = window.location.href;\n    const id = uri.split(\"/\");\n    axios.get(\"http://127.0.0.1:8000/api/product/\" + id[4], {\n      mode: \"no-cors\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      const data = res.data;\n      this.setState({\n        product: data\n      });\n      console.log(res.data);\n      axios.post(\"http://127.0.0.1:8000/api/product/popularity/\" + id[4], id[4]);\n    });\n  }\n\n  render() {\n    const product = this.state.product;\n    let button;\n    let buttonR;\n    let buttonP;\n\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      buttonP = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/profil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), \" Mon profil\");\n      button = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/\",\n        onClick: () => this.handleLogout(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sign-out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), \" D\\xE9connexion\");\n    } else {\n      button = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sign-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), \" Connexion\");\n      buttonR = React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), \" Inscription\");\n    }\n\n    if (product === undefined) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-dark bg-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), \" E-COMMERCE\")), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"navbar-form\",\n        role: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Chercher un produit, une cat\\xE9gorie, ...\",\n        name: \"q\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-default icon-search\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"navbar-brand\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), \" Accueil\"), React.createElement(\"a\", {\n        className: \"nav-item\",\n        href: \"/cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-cart-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), \" Mon panier\"), buttonP, button, buttonR)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card form mt-4 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Carousel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, product.pictures.map(picture => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-card2\",\n        src: picture === \"\" ? \"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22286%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20286%20180%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_16b4bc3c694%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A14pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_16b4bc3c694%22%3E%3Crect%20width%3D%22286%22%20height%3D%22180%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22106.3984375%22%20y%3D%2296.3%22%3E286x180%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\" : picture,\n        alt: \"Card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, product.title)), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, product.description)), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Prix: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, product.price, \" \\u20AC\")), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-eye\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), \" Ce produit a \\xE9t\\xE9 visionn\\xE9\", \" \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, product.popularity), \" fois.\"), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), \" Ajout\\xE9 le:\", \" \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, product.created_at)), product.availability === 0 ? React.createElement(\"span\", {\n        className: \"prefixSp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), \" EN STOCK\") : React.createElement(\"span\", {\n        className: \"prefixRp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), \" EN RUPTURE\"), product.availability === 0 ? React.createElement(\"button\", {\n        type: \"submit\",\n        value: product.id,\n        onClick: this.setProductCart,\n        className: \"btn btn-primary large-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), \" Ajouter au panier\") : React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary large-btn disabled\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), \" Ajouter au panier\")))));\n    }\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["/home/julien-pc/Bureau/PROJECT/e-commerce/front/src/Product.js"],"names":["React","axios","Carousel","Product","Component","constructor","props","state","product","undefined","handleLogout","localStorage","removeItem","setProductCart","e","preventDefault","id","target","value","get","mode","headers","then","res","data","showProducts","show","title","description","price","picture","pictures","push","concat","JSON","parse","getItem","console","log","setItem","stringify","componentDidMount","uri","window","location","href","split","setState","post","render","button","buttonR","buttonP","map","popularity","created_at","availability"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from \"react-responsive-carousel\";\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      product: undefined\n    };\n  }\n\n  handleLogout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"Products\");\n  }\n\n  setProductCart(e) {\n    e.preventDefault();\n    const id = e.target.value;\n\n    axios\n      .get(`http://127.0.0.1:8000/api/product/` + id, {\n        mode: \"no-cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      })\n\n      .then(res => {\n        const data = res.data;\n\n        var showProducts = [];\n\n        var show = {\n          id: data.id,\n          title: data.title,\n          description: data.description,\n          price: data.price,\n          picture: data.pictures\n        };\n\n        showProducts.push(show);\n        showProducts = showProducts.concat(\n          JSON.parse(localStorage.getItem(\"Products\") || \"[]\")\n        );\n        console.log(showProducts);\n\n        localStorage.setItem(\"Products\", JSON.stringify(showProducts));\n      });\n  }\n\n  componentDidMount() {\n    const uri = window.location.href;\n    const id = uri.split(\"/\");\n    axios\n      .get(`http://127.0.0.1:8000/api/product/` + id[4], {\n        mode: \"no-cors\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\"\n        }\n      })\n\n      .then(res => {\n        const data = res.data;\n        this.setState({ product: data });\n        console.log(res.data);\n        axios.post(\n          `http://127.0.0.1:8000/api/product/popularity/` + id[4],\n          id[4]\n        );\n      });\n  }\n\n  render() {\n    const { product } = this.state;\n    let button;\n    let buttonR;\n    let buttonP;\n\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      buttonP = (\n        <a className=\"nav-item\" href=\"/profil\">\n          <i className=\"fa fa-user\" /> Mon profil\n        </a>\n      );\n\n      button = (\n        <a className=\"nav-item\" href=\"/\" onClick={() => this.handleLogout()}>\n          <i className=\"fa fa-sign-out\" /> Déconnexion\n        </a>\n      );\n    } else {\n      button = (\n        <a className=\"nav-item\" href=\"/login\">\n          <i className=\"fa fa-sign-in\" /> Connexion\n        </a>\n      );\n      buttonR = (\n        <a className=\"nav-item\" href=\"/register\">\n          <i className=\"fa fa-user-plus\" /> Inscription\n        </a>\n      );\n    }\n\n    if (product === undefined) {\n      return <div />;\n    } else {\n      return (\n        <div>\n          <nav className=\"navbar navbar-dark bg-dark\">\n            <a className=\"navbar-brand\" href=\"/\">\n              <b>\n                <i className=\"fa fa-shopping-cart\" /> E-COMMERCE\n              </b>\n            </a>\n\n            <div className=\"col\">\n              <form className=\"navbar-form\" role=\"search\">\n                <div className=\"input-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Chercher un produit, une catégorie, ...\"\n                    name=\"q\"\n                  />\n                  <div className=\"input-group-btn\">\n                    <button\n                      className=\"btn btn-default icon-search\"\n                      type=\"submit\"\n                    >\n                      <i className=\"fa fa-search \" />\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"navbar-brand\" href=\"/\">\n              <a className=\"nav-item\" href=\"/\">\n                <i className=\"fa fa-home\" /> Accueil\n              </a>\n              <a className=\"nav-item\" href=\"/cart\">\n                <i className=\"fa fa-cart-plus\" /> Mon panier\n              </a>\n              {buttonP}\n              {button}\n              {buttonR}\n            </div>\n          </nav>\n          <div>\n            <div className=\"card form mt-4 mb-4\">\n              <Carousel>\n                {product.pictures.map(picture => (\n                  <div>\n                    <img\n                      className=\"img-card2\"\n                      src={\n                        picture === \"\"\n                          ? \"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22286%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20286%20180%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_16b4bc3c694%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A14pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_16b4bc3c694%22%3E%3Crect%20width%3D%22286%22%20height%3D%22180%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22106.3984375%22%20y%3D%2296.3%22%3E286x180%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\"\n                          : picture\n                      }\n                      alt=\"Card\"\n                    />\n                  </div>\n                ))}\n              </Carousel>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">\n                  <b>{product.title}</b>\n                </h5>\n                <p className=\"card-text\">\n                  <b>{product.description}</b>\n                </p>\n                <p className=\"card-text\">\n                  Prix: <b>{product.price} €</b>\n                </p>\n                <p className=\"card-text\">\n                  <i class=\"fa fa-eye\" /> Ce produit a été visionné{\" \"}\n                  <b>{product.popularity}</b> fois.\n                </p>\n                <p className=\"card-text\">\n                  <i class=\"fa fa-calendar\" /> Ajouté le:{\" \"}\n                  <b>{product.created_at}</b>\n                </p>\n                {product.availability === 0 ? (\n                  <span className=\"prefixSp\">\n                    <i class=\"fa fa-check\" /> EN STOCK\n                  </span>\n                ) : (\n                  <span className=\"prefixRp\">\n                    <i class=\"fa fa-times\" /> EN RUPTURE\n                  </span>\n                )}\n                {product.availability === 0 ? (\n                  <button\n                    type=\"submit\"\n                    value={product.id}\n                    onClick={this.setProductCart}\n                    className=\"btn btn-primary large-btn\"\n                  >\n                    <i className=\"fa fa-shopping-cart\" /> Ajouter au panier\n                  </button>\n                ) : (\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary large-btn disabled\"\n                    disabled\n                  >\n                    <i className=\"fa fa-shopping-cart\" /> Ajouter au panier\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}