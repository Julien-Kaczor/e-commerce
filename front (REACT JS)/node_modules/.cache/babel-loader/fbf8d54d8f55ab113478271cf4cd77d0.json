{"ast":null,"code":"var _jsxFileName = \"/home/julien-pc/Bureau/test/e-commerce/front/src/Login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport SweetAlert from \"sweetalert2-react\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      password: \"\",\n      response: undefined\n    };\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n    let uri = \"http://localhost:8000/api/login\";\n    axios.post(uri, user).then(response => {\n      localStorage.setItem(\"token\", JSON.stringify(response.data));\n      this.props.history.push(\"/\");\n    }).catch(error => {\n      this.setState({\n        response: false\n      });\n      this.setState({\n        show: true\n      });\n    });\n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-dark bg-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), \" E-COMMERCE\")), React.createElement(\"div\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), \" Accueil\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), \" Connexion\"), React.createElement(\"a\", {\n      className: \"nav-item\",\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), \" Inscription\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card form login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.response === false ? React.createElement(\"div\", {\n      className: \"mt-3 alert alert-danger ml-3 mr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), \" Erreur\"), \" \", \": Les identifiant que vous avez saisies n'existent pas !\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      id: \"formpost\",\n      method: \"POST\",\n      action: \"http://localhost:8001/api/login\",\n      acceptCharset: \"UTF-8\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), \" Se connecter\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Nom d'utilisateur :\"), React.createElement(\"input\", {\n      name: \"username\",\n      className: \"input-login\",\n      type: \"text\",\n      onChange: this.handleChange1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      className: \"font-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Mot de passe :\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleChange2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), \" Se connecter\"))), React.createElement(SweetAlert, {\n      type: \"error\",\n      show: this.state.show,\n      title: \"Demo\",\n      text: \"SweetAlert in React\",\n      onConfirm: () => this.setState({\n        show: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/julien-pc/Bureau/test/e-commerce/front/src/Login.js"],"names":["React","axios","SweetAlert","Login","Component","constructor","props","state","name","password","response","undefined","handleChange1","bind","handleChange2","handleSubmit","e","setState","target","value","preventDefault","user","uri","post","then","localStorage","setItem","JSON","stringify","data","history","push","catch","error","show","render","parse","getItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport SweetAlert from \"sweetalert2-react\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { name: \"\", password: \"\", response: undefined };\n\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange1(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    };\n\n    let uri = \"http://localhost:8000/api/login\";\n\n    axios\n      .post(uri, user)\n      .then(response => {\n        localStorage.setItem(\"token\", JSON.stringify(response.data));\n        this.props.history.push(\"/\");\n      })\n      .catch(error => {\n        this.setState({ response: false });\n        this.setState({ show: true })\n      });\n  }\n\n  render() {\n    if (JSON.parse(localStorage.getItem(\"token\")) !== null) {\n      this.props.history.push(\"/\");\n    }\n    return (\n      <div>\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href=\"/\">\n            <b>\n              <i className=\"fa fa-shopping-cart\" /> E-COMMERCE\n            </b>\n          </a>\n          <div className=\"navbar-brand\" href=\"/\">\n            <a className=\"nav-item\" href=\"/\">\n              <i className=\"fa fa-home\" /> Accueil\n            </a>\n            <a className=\"nav-item\" href=\"/login\">\n              <i className=\"fa fa-sign-in\" /> Connexion\n            </a>\n            <a className=\"nav-item\" href=\"/register\">\n              <i className=\"fa fa-user-plus\" /> Inscription\n            </a>\n          </div>\n        </nav>\n        <div>\n          <div className=\"card form login\">\n            {this.state.response === false ? (\n              <div className=\"mt-3 alert alert-danger ml-3 mr-3\">\n                <strong>\n                  <i class=\"fa fa-times\" /> Erreur\n                </strong>{\" \"}\n                : Les identifiant que vous avez saisies n'existent pas !\n              </div>\n            ) : (\n              <div />\n            )}\n            <form\n              id=\"formpost\"\n              method=\"POST\"\n              action=\"http://localhost:8001/api/login\"\n              acceptCharset=\"UTF-8\"\n              onSubmit={this.handleSubmit}\n            >\n              <h1 className=\"mt-3\">\n                <i className=\"fa fa-sign-in\" /> Se connecter\n              </h1>\n              <hr />\n              <label>\n                <h5 className=\"font-login\">Nom d'utilisateur :</h5>\n                <input\n                  name=\"username\"\n                  className=\"input-login\"\n                  type=\"text\"\n                  onChange={this.handleChange1}\n                />\n                <h5 className=\"font-login\">Mot de passe :</h5>\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  onChange={this.handleChange2}\n                />\n              </label>\n              <div>\n                <button type=\"submit\" className=\"btn btn-outline-secondary\">\n                  <i className=\"fa fa-sign-in\" /> Se connecter\n                </button>\n              </div>\n            </form>\n            <SweetAlert\n              type='error'\n              show={this.state.show}\n              title=\"Demo\"\n              text=\"SweetAlert in React\"\n              onConfirm={() => this.setState({ show: false })}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}